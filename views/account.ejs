<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cliente</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="javascript/elimaccont.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style/estilos.css" />
  </head>

  <body>
    <nav class="navbar">
      <img
        src="/images/redes/acemarUS.png"
        class="navbar-brand ms-5"
        alt=""
        width="auto"
        height="70"
      />
      <ul class="nav justify-content-end me-5">
        <li class="nav-item">
          <a class="nav-link text-secondary bg-light" href="account">Account</a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle text-secondary"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Products
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="doors">Doors</a></li>
            <li><a class="dropdown-item" href="productos">Flooring</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link text-secondary" href="facturas">Invoice</a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle text-secondary"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Price
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="priceDoor">Doors</a></li>
            <li><a class="dropdown-item" href="precios">Flooring</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link text-secondary" href="inventario">Inventory</a>
        </li>
        <li class="nav-item">
          <a href="/"
            ><i
              class="fa-solid fa-arrow-right-from-bracket mt-3 ms-3 text-secondary fs-5"
            ></i
          ></a>
        </li>
      </ul>
      <div class="mt-2 linea"></div>
    </nav>
    <form
      action="/client"
      method="post"
      id="client"
      class="client"
      enctype="multipart/form-data"
    >
      <div
        class="bg-light p-5 text-secondary container border rounded-3"
        id="account"
      >
        <div class="text-center fs-1 fw-bold">Create Account</div>
        <div class="input-group mt-3">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-envelope text-white"></i>
          </div>
          <input
            required
            type="email"
            placeholder="Email"
            name="email"
            class="form-control"
          />
        </div>
        <div class="input-group mt-3">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-user text-white"></i>
          </div>
          <input
            required
            type="text"
            placeholder="Name"
            name="name"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-image text-white"></i>
          </div>
          <input
            required
            type="file"
            name="image"
            placeholder="Image.jpg"
            onchange="change()"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-lock text-white"></i>
          </div>
          <input
            required
            type="password"
            placeholder="Password"
            name="pass"
            class="form-control pass"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-phone text-white"></i>
          </div>
          <input
            required
            type="number"
            placeholder="Phone"
            name="phone"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-users text-white"></i>
          </div>
          <select
            class="form-select text-secondary"
            name="rolex"
            aria-label=".form-select-lg example"
          >
            <option selected>Rol</option>
            <option value="admin">Administrator</option>
            <option value="client">Client</option>
          </select>
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-location-dot text-white"></i>
          </div>
          <input
            required
            type="text"
            placeholder="Address"
            name="address"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-envelopes-bulk text-white"></i>
          </div>
          <input
            required
            type="text"
            placeholder="Postal Code"
            name="postal"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-flag-usa text-white"></i>
          </div>
          <input
            required
            type="text"
            placeholder="State"
            name="state"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-truck-arrow-right text-white"></i>
          </div>
          <input
            required
            type="text"
            placeholder="Price Freight"
            name="flete"
            class="form-control"
          />
        </div>
        <div class="input-group mt-2">
          <div class="input-group-text bg-warning">
            <i class="fa-solid fa-comment-dollar text-white"></i>
          </div>
          <textarea
            name="condiciones"
            placeholder="payment conditions"
            class="form-control"
            rows="4"
          ></textarea>
        </div>
        <button type="submit" class="btn btn-warning mt-3 w-100 text-white">
          <i class="fa-solid fa-paper-plane"></i
          ><label class="ms-2">create</label>
        </button>
        <!-- <input type="submit" class="btn btn-warning mt-3 w-100 text-white" value="Create"> -->
      </div>
    </form>

    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Gmail</th>
          <th scope="col">Phone</th>
          <th scope="col">Rol</th>
          <th scope="col">Adress</th>
          <th scope="col">Postcard</th>
          <th scope="col">State</th>
          <th scope="col">Image</th>
          <th scope="col">Update</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        <% data.forEach(function (data) { if (data.id>= 4) { %>
        <input type="hidden" value="<%= data.id %>" name="id" class="id" />
        <tr>
          <th scope="row"><%= data.id %></th>
          <td><%= data.mail %></td>
          <td><%= data.phone %></td>
          <td><%= data.rol %></td>
          <td><%= data.address %></td>
          <td><%= data.postal %></td>
          <td><%= data.state %></td>
          <td><%= data.perfil %></td>
          <td>
            <a href="actaccont/<%= data.id %>"
              ><i class="fa-solid fa-wrench text-secondary ms-3 fs-4 mt-4"></i
            ></a>
          </td>
          <td>
            <button
              type="submit"
              class="ms-2 fs-5 mt-3 bg-white elim"
              style="border: none"
            >
              <i class="fa-solid fa-trash text-secondary"></i>
            </button>
          </td>
        </tr>
        <% } }) %>
      </tbody>
    </table>
  </body>
  <script>
    // Obtener el elemento de entrada de archivo y agregar un controlador de eventos
    var fileInput = document.querySelector('input[type="file"]');
    fileInput.addEventListener("change", function () {
      // Obtener la imagen seleccionada
      var file = fileInput.files[0];

      // Crear un objeto FileReader para leer la imagen
      var reader = new FileReader();
      reader.onload = function () {
        // Crear un objeto de imagen para obtener sus dimensiones
        var img = new Image();
        img.onload = function () {
          // Comprobar si la imagen es mayor de 250x250 pÃ­xeles
          if (img.width > 250 || img.height > 250) {
            // Mostrar un mensaje de error al usuario
            swal({
              title: "Are you sure?",
              text: "Once deleted, you will not be able to recover this imaginary file!",
              icon: "warning",
              buttons: true,
              dangerMode: true,
            });
            // Borrar el valor del elemento de entrada de archivo
            fileInput.value = "";
          }
        };
        img.src = reader.result;
      };
      reader.readAsDataURL(file);
    });
  </script>
</html>
